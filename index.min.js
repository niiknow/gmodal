(function outer(modules,cache,entries){var global=function(){return this}();function require(name,jumped){if(cache[name])return cache[name].exports;if(modules[name])return call(name,require);throw new Error('cannot find module "'+name+'"')}function call(id,require){var m=cache[id]={exports:{}};var mod=modules[id];var name=mod[2];var fn=mod[0];fn.call(m.exports,function(req){var dep=modules[id][1][req];return require(dep?dep:req)},m,m.exports,outer,modules,cache,entries);if(name)cache[name]=cache[id];return cache[id].exports}for(var id in entries){if(entries[id]){global[entries[id]]=require(id)}else{require(id)}}require.duo=true;require.cache=cache;require.modules=modules;return require})({1:[function(require,module,exports){(function(){var $baseCls,$css,$doc,$tpl,$win,Emitter,createModal,hasCls,injectStyle,modal,result;Emitter=require("emitter");$tpl=require("./template.html");$css=require("./index.css");$win=window;$doc=$win.document;$baseCls="gmodal";injectStyle=function(id,data){var el;el=$doc.getElementById(id);if(!el){el=$doc.createElement("style");el.type="text/css";el.appendChild($doc.createTextNode(data));return($doc.head||$doc.getElementsByTagName("head")[0]).appendChild(el)}};hasCls=function(el,cls){var i,k,len,ref,v;ref=cls.split(" ");for(k=i=0,len=ref.length;i<len;k=++i){v=ref[k];if((" "+el.className).indexOf(" "+v)>=0){return true}}return false};createModal=function(){var el,myKeypress;el=$doc.getElementById("gmodal");if(!el){injectStyle("gmodal-css",$css);el=$doc.createElement("div");el.id="gmodal";el.onclick=function(evt){evt=evt||$win.event;evt.target=evt.target||evt.srcElement;if(hasCls(evt.target,"gmodal-wrap gmodal-close")||evt.target===el){gmodal.emit("click",evt)}return false};myKeypress=function(evt){evt=evt||$win.event;evt.target=evt.target||evt.srcElement;if(hasCls(evt.target,"gmodal-wrap")||evt.target===el||evt.target===$doc||evt.target===$doc.body){if((evt.which||evt.keyCode)===27){gmodal.emit("esc",evt)}}return false};el.onkeypress=myKeypress;$doc.onkeypress=myKeypress;el.ontap=function(evt){evt=evt||$win.event;evt.target=evt.target||evt.srcElement;if(hasCls(evt.target,"gmodal-wrap gmodal-close")||evt.target===el){gmodal.emit("tap",evt)}return false};el.innerHTML=$tpl;$doc.getElementsByTagName("body")[0].appendChild(el)}return el};modal=function(){function modal(){}modal.prototype.elWrapper=null;modal.prototype.el=null;modal.prototype.options={};modal.prototype.show=function(options){var self;self=this;self.elWrapper=createModal();if(!self.el){self.el=$doc.getElementById("gmodalContent")}if(options!=null){self.options=options;if(self.options.content!=null){self.el.innerHTML=self.options.content;self.options.content=null}}if(!self.options){return self}self.elWrapper.style.display=self.elWrapper.style.visibility="";self.elWrapper.className=$baseCls+" gmodal-show "+(self.options.cls||"");self.emit("show");return this};modal.prototype.hide=function(){var self;self=this;if(!self.elWrapper){return self}self.elWrapper.className=""+$baseCls;self.emit("hide");return this};modal.prototype.injectStyle=injectStyle;return modal}();Emitter(modal.prototype);result=new modal;$win.gmodal=result;module.exports=result}).call(this)},{emitter:2,"./template.html":3,"./index.css":4}],2:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],3:[function(require,module,exports){module.exports='<div class="gmodal-wrap gmodal-top">&nbsp;<div>\n<div class="gmodal-wrap gmodal-left"></div><div class="gmodal-content" id="gmodalContent"></div><div class="gmodal-wrap gmodal-right"></div>'},{}],4:[function(require,module,exports){module.exports=".gmodal {\n    display: none;\n    overflow: hidden;\n    outline: 0;\n    -webkit-overflow-scrolling: touch;\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999990;  /* based on safari 16777271 */ \n}\n.gmodal-show { display: table }\n.gmodal-wrap,\n.gmodal-content {\n    display: table-cell;\n    width: 33%;\n}"},{}]},{},{1:""});