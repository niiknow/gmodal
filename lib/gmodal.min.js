/*!
 *  gmodal.js - v2.0.1
 *  build: Tue Apr 04 2017 15:14:56 GMT-0500 (CDT)
 *  a modal
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("gmodal",[],t):"object"==typeof exports?exports.gmodal=t():e.gmodal=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=".gmodal {\n    display: none;\n    overflow: hidden;\n    outline: 0;\n    -webkit-overflow-scrolling: touch;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 200%;\n    z-index: 9999990;  /* based on safari 16777271 */ \n}\n.gmodal .frameshim {\n    position: absolute;\n    display: block;\n    visibility: hidden;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    top: 0;\n    left: 0;\n    border: none;\n    z-index: -999;\n}\n.html-gmodal body .gmodal { display: block; }\n.html-gmodal, .html-modal body { overflow: hidden; margin:0; padding:0; height:100%; width:100%; }\n.gmodal-container { display: table; position: relative; width: 100%; height: 50%; }\n.gmodal-wrap { display: table-cell; position: relative; vertical-align: middle; }\n.gmodal-left, .gmodal-right { width: 50%; }"},function(e,t){e.exports='<div class="gmodal-container">\n\t<div class="gmodal-wrap gmodal-left"></div>\n\t<div class="gmodal-wrap gmodal-content" id="gmodalContent"></div>\n\t<div class="gmodal-wrap gmodal-right"></div>\n<div>'},function(e,t,n){/*!
 *  wu.js - v0.1.4
 *  build: Tue Apr 04 2017 14:45:18 GMT-0500 (CDT)
 *  web utils
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){function r(e,t,n){n=n||{};var r=s(e)+"="+s(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function o(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return a(e)}function i(e){return o()[e]}function a(e){var t,n={},r=e.split(/ *; */);if(""==r[0])return n;for(var o=0;o<r.length;++o)t=r[o].split("="),n[l(t[0])]=l(t[1]);return n}function s(e){try{return encodeURIComponent(e)}catch(t){c("error `encode(%o)` - %o",e,t)}}function l(e){try{return decodeURIComponent(e)}catch(t){c("error `decode(%o)` - %o",e,t)}}var c=n(4)("cookie");e.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return r(e,t,n);case 1:return i(e);default:return o()}}},function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t,n){function r(){var c=Date.now()-s;c<t&&c>=0?o=setTimeout(r,t-c):(o=null,n||(l=e.apply(a,i),a=i=null))}var o,i,a,s,l;null==t&&(t=100);var c=function(){a=this,i=arguments,s=Date.now();var c=n&&!o;return o||(o=setTimeout(r,t)),c&&(l=e.apply(a,i),a=i=null),l};return c.clear=function(){o&&(clearTimeout(o),o=null)},c}},function(e,t){function n(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var a=i[r]||i._default,s=a[0],l=a[1],c=a[2],o=t.createElement("div");for(o.innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var u=t.createDocumentFragment();o.firstChild;)u.appendChild(o.removeChild(o.firstChild));return u}e.exports=n;var r,o=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!r.getElementsByTagName("link").length,r=void 0);var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"],i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"],i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function l(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n(5),t.log=a,t.formatArgs=i,t.save=s,t.load=l,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(l())}).call(t,n(7))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var o=t.formatters[r];if("function"==typeof o){var a=i[s];n=o.call(e,a),i.splice(s,1),s--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=l,t.disable=a,t.enable=i,t.enabled=s,t.humanize=n(6),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,l,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,c=24*l,u=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return void 0===e||null===e?t:e}function i(){var e=x,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("rv:");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t)),10):n>0&&parseInt(e.substring(r+3,e.indexOf(".",r)),10)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=n(1),c=n(2),u=n(0),d={navigator:{userAgent:""},location:{protocol:"file"}},f={},h=Array.prototype,p=Object.prototype,m=h.slice,g=p.hasOwnProperty,v=h.forEach,y=h.map,b=h.some,w=h.indexOf,k=Object.keys,x=d.navigator.userAgent;"undefined"!=typeof window&&(d=window);var C=function(){function e(){r(this,e),this._name="Wu",this.browser={isIE:i(),isMobile:/iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/gi.test(x),isAndroid:/(android)/gi.test(x),isIOS:/iP(hone|od|ad)/gi.test(x)},this.isNull=o,this.win=d,this.doc=document||{},this.forEach=this.each,this.collect=this.map,this.any=this.some,this.getAttribute=this.getAttr,this.setAttribute=this.setAttr,this.emitter=l,this.domify=s,this.debounce=c,this.cookie=u}return a(e,[{key:"addEvent",value:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(t,n):this.getAttr(e,"on"+t)?e["on"+t]=n:e[t]=n,this}},{key:"removeEvent",value:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(t,n):this.getAttr(e,"on"+t)?e["on"+t]=null:e[t]=null,this}},{key:"decode",value:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}},{key:"encode",value:function(e){try{return encodeURIComponent(e)}catch(t){return e}}},{key:"geoDistance",value:function(e,t,n,r,o){function i(e){return e*Math.PI/180}o=o||{};var a={latitude:e,longitude:t},s={latitude:n,longitude:r},l={km:6371,mile:3960,meter:6371e3,nmi:3440},c=o.unit in l?l[o.unit]:l.km,u=i(s.latitude-a.latitude),d=i(s.longitude-a.longitude),f=i(a.latitude),h=i(s.latitude),p=Math.sin(u/2)*Math.sin(u/2)+Math.sin(d/2)*Math.sin(d/2)*Math.cos(f)*Math.cos(h),m=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return o.threshold?o.threshold>c*m:c*m}},{key:"geoOrderByOrigin",value:function(e,t,n){var r=this,o={origin:t,results:[]};return this.each(e,function(e){var n=r.geoDistance(t.Latitude,t.Longitude,e.Latitude,e.Longitude,{unit:"mile"}),i={point:e,distance:parseFloat(r.isNull(n,0)).toFixed(2)};o.results.push(i)}),this.sortOn(o.results,"distance"),n(o),this}},{key:"geoOrderByIP",value:function(e,t,n){var r=this;return this.geoByIP(t,function(t){t.latitude&&(t.Latitude=t.latitude,t.Longitude=t.longitude,r.geoOrderByOrigin(e,t,n))}),this}},{key:"geoByIP",value:function(e,t){var n="mycb"+(new Date).getTime();return this.win[n]=t,e=e||"//freegeoip.net/json",e+=(e.indexOf("?")>0?"&":"?")+"callback="+n,this.loadScript(e),this}},{key:"getAjaxObject",value:function(){return"XMLHttpRequest"in window?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}},{key:"getAttr",value:function(e,t){var n=e[0]||e;return n.getAttribute?n.getAttribute(t):n[t]}},{key:"getAttrs",value:function(e,t){var n=this,r={};return this.each(["","data-"],function(o,i){n.each(t||[],function(t,i){var a=n.getAttr(e,o+i);a&&(r[i]=a)})}),r}},{key:"setAttr",value:function(e,t,n){var r=e[0]||e;return r.setAttribute?r.setAttribute(t,n):r[t]=n,r}},{key:"contains",value:function(e,t){return null!==this.isNull(e,null)&&(w&&e.indexOf===w?-1!==e.indexOf(t):this.any(e,function(e){return e===t}))}},{key:"createiFrame",value:function(e,t){var n=this.doc.createElement("iframe");return e&&(n.id=e),t&&(n.className=t),n.frameBorder="0",n.marginWidth="0",n.marginHeight="0",n.setAttribute("border","0"),n.setAttribute("allowtransparency","true"),n.width="100%",n.height="100%",n}},{key:"del",value:function(e,t){e[t]=void 0;try{delete e[t]}catch(r){var n={};return this.each(e,function(e,r){r!==t&&(n[r]=e)}),n}return e}},{key:"each",value:function(e,t,n){if(null!==this.isNull(e,null))if(v&&e.forEach===v)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)===f)return}else for(var i=this.keys(e),a=0,s=i.length;a<s;a++)if(t.call(n,e[i[a]],i[a],e)===f)return}},{key:"extend",value:function(e){var t=this;return this.each(m.call(arguments,1),function(n){void 0!==n&&t.each(n,function(n,r){null!==t.isNull(n,null)&&(e[r]=n)})}),e}},{key:"groupBy",value:function(e,t,n){var r=this;if(null===this.isNull(e,null))return[];var o=[],i={};this.each(e,function(e){var n=e[t],o=i[n];null===r.isNull(o,null)&&(o={key:n,items:[]},i[n]=o),o.items.push(e)});var a=0;return this.each(i,function(e){e.$idx=a++,o.push(e),n&&n(e)}),this.sortOn(o,"key")}},{key:"has",value:function(e,t){return g.call(e,t)}},{key:"keys",value:function(e){if(k)return k(e);if(e!==Object(e))throw new TypeError("Invalid object");var t=[],n=void 0;for(n in e)this.has(e,n)&&t.push(n);return t}},{key:"loadScript",value:function(e,t){function n(){void 0!==this.readyState&&"complete"!==this.readyState||"function"==typeof t&&t()}var r=void 0;e.indexOf("//")<0&&(e="http:"+e),"file"===(d.location||{}).protocol&&(e=e.replace("https://","http://")),r=this.doc.createElement("script"),r.type="text/javascript",r.src=e,t&&(r.onload=n,r.onreadystatechange=n),this.doc.body.appendChild(r)}},{key:"loadScripts",value:function(e,t){function n(){if(r.length<=0)"function"==typeof t&&t();else{var e=r[0];r.splice(0,1),o.loadScript(e,n)}}var r=void 0,o=this;this.isNull(e.length,0)<=0?"function"==typeof t&&t():("string"==typeof e&&(e=[e]),r=[].concat(e),n())}},{key:"loadIframe",value:function(e,t){var n=this.doc.createElement("iframe");if(e[0].appendChild(n),n.contentWindow)n.contentWindow.contents=t,n.src='javascript:window["contents"]';else{var r=n.contentDocument||n.document;r.open(),r.write(t),r.close()}return n}},{key:"map",value:function(e,t,n){var r=[];return null===this.isNull(e,null)?r:y&&e.map===y?e.map(t,n):(this.each(e,function(e,o,i){r.push(t.call(n,e,o,i))}),r)}},{key:"mapObject",value:function(e,t){var n={};return e&&(this.isNull(e.length,-1)<0?n[e[t]]=e:this.map(e,function(e,r){var o=e[t],i=n[o];i?("[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),i.push(e)):i=e,n[o]=i})),n}},{key:"queryParseString",value:function(e){e=(e||"").replace("?","").replace("#","");for(var t=/(\w+)\[(\d+)\]/,n=this.decode,r={},o=e.split("&"),i=0;i<o.length;i++){var a=o[i].split("="),s=n(a[0]),l=t.exec(s);l?(r[l[1]]=r[l[1]]||[],r[l[1]][l[2]]=n(a[1])):r[a[0]]=n(a[1]||"")}return r}},{key:"request",value:function(e){var t=this;return e.headers=e.headers||{},["HEAD","GET","DELETE"].indexOf(e.method)>-1?e.data&&(e.url+=(e.url.indexOf("?")>0?"?":"&")+t.queryStringify(e.data),this.del(e,"data")):"string"!=typeof e.data&&((e.headers["Content-Type"]+"").indexOf("json")>0?e.data=JSON.stringify(e):e.data=t.queryStringify(e)),t.xhrp(e)}},{key:"slugify",value:function(e){return""===(e=e||"")?e:e=e.toLowerCase().replace(/[^0-9a-z\-\_]+/gi,"-").replace(/[\-]+/gi,"-")}},{key:"some",value:function(e,t,n){var r=!1;return t=t||function(e){return e},null===this.isNull(e,null)?r:b&&e.some===b?e.some(t,n):(this.each(e,function(e,o,i){return r||(r=t.call(n,e,o,i))?f:null}),!!r)}},{key:"sortOn",value:function(e,t){return null===this.isNull(e,null)?null:e.length<=0?[]:("string"==typeof e[0][t]?e.sort(function(e,n){return(e[t]&&e[t].toLowerCase())<(n[t]&&n[t].toLowerCase())?-1:(e[t]&&e[t].toLowerCase())>(n[t]&&n[t].toLowerCase())?1:0}):e.sort(function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}),e)}},{key:"queryStringify",value:function(e){var t="",n=this.encode;return this.each(e,function(e,r){t+="&"+r+"="+n(e)}),t.replace("&","")}},{key:"trim",value:function(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}},{key:"xhrp",value:function(e){var t=this;return new Promise(function(n,r){return t.xhr(e,n,r)})}},{key:"xhr",value:function(e,t,n){var r=e;"string"==typeof r&&(e=e||{},e.url=r);var o=this.getAjaxObject();return e.withCredentials&&(o.withCredentials=!0,"undefined"!=typeof XDomainRequest&&(o=new XDomainRequest)),e&&0!==e.length||n({xhr:o,error:new Error("xhr expects an url or an options object, none given.")}),e.method=e.method||"GET",o.open(e.method,e.url,o.withCredentials),this.each(e.headers||{},function(e,t){o.setRequestHeader(t,e)}),this.addEvent(o,"readystatechange",function(){4===o.readyState&&o.status>=200&&o.status<400?t({xhr:o,text:o.responseText,url:o.responseURL}):4===o.readyState&&n({xhr:o})}),this.addEvent(o,"error",function(e){n({xhr:o,error:e})}),e.nosend||o.send(e.data||void 0),o}},{key:"name",get:function(){return this._name}}]),e}();t.default=C,e.exports=t.default}])})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n,r;return n=h.doc,r=h.createiFrame(null,"gmodal-iframe"),e.appendChild(r),r.contentWindow?(r.contentWindow.contents=t,r.src="javascript:window['contents']",r):(n=r.contentDocument||r.document,n.open(),n.write(t),n.close(),r)}function i(e){return e.elWrapper.className=""+e.baseCls,e.el.className="gmodal-wrap gmodal-content",setTimeout(function(){var t=e.doc.getElementsByTagName("html")[0].className;if(e.doc.getElementsByTagName("html")[0].className=h.trim(t.replace(/html\-gmodal/gi,"")),e.isVisible=!1,e.emit("hide",e),"function"==typeof e.opts.hideCallback&&e.opts.hideCallback(e),e.opts._autoHideHandler&&(e.off("esc",e.opts._autoHideHandler),e.off("click",e.opts._autoHideHandler),e.off("tap",e.opts._autoHideHandler)),0!==p.length)return e.show()},e.opts.timeout||50),e}function a(e,t){var n=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0;if(e.isVisible=!0,null!=t&&(e.opts=t,null!=e.opts.content)){for(;e.el.firstChild;)e.el.removeChild(e.el.firstChild);"string"==typeof e.opts.content?e.opts.content.indexOf("<!DOCTYPE")>-1||e.opts.iframe?o(e.el,e.opts.content):e.el.appendChild(h.domify(e.opts.content)):e.el.appendChild(e.opts.content),e.opts.content=null}if(e.closeCls=e.opts.closeCls||e.closeCls,e.opts.disableScrollTop||m.scrollTo(0,0),e.elWrapper.style.display=e.elWrapper.style.visibility="",e.elWrapper.className=h.trim(e.baseCls+" "+(e.opts.cls||"")),n=e.doc.getElementsByTagName("html")[0],r=n.className,n.className=h.trim(r+" html-gmodal"),setTimeout(function(){e.emit("show-timeout",e),e.el.className=h.trim((" "+e.el.className+" ").replace(" in ","")+" in")},e.opts.timeout||50),e.opts.hideOn)for(e.opts._autoHideHandler=function(){return i(e)},l=e.opts.hideOn.split(","),a=0,s=l.length;a<s;a++)"esc"!==(c=l[a])&&"click"!==c&&"tap"!==c||e.on(c,e.opts._autoHideHandler);return e.emit("show",e),e}function s(e,t,n,r){var o,a,s;return n=n||m.event,s=n.target||n.srcElement,3===s.nodeType&&(s=s.parentNode),e.hasCls(s.parentNode,""+e.closeCls)&&(s=s.parentNode),a="gmodal-container gmodal-wrap","click"===t?(e.hasCls(s,a)||s===r)&&e.emit("click",s,n):"keypress"===t?(e.hasCls(s,a)||s===r||s===e.doc||s===e.doc.body)&&27===(n.which||n.keyCode)&&e.emit("esc",s,n):"tap"===t&&(e.hasCls(s,a)||s===r)&&e.emit("tap",s,n),e.hasCls(s,""+e.closeCls)&&(o={cancel:!1},e.emit("close",o,s,n),o.cancel||i(e)),!0}function l(e){var t,n,r;return t=e.doc.getElementById("gmodal"),t||(e.injectStyle("gmodalcss",e.css),t=e.doc.createElement("div"),t.id="gmodal",t.onclick=function(n){return s(e,"click",n,t)},n=function(n){return s(e,"keypress",n,t)},t.onkeypress=n,"function"==typeof e.doc.onkeypress?(r=e.doc.onkeypress,e.doc.onkeypress=function(e){return r(e),n(e)}):e.doc.onkeypress=n,t.ontap=function(n){return s(e,"tap",n,t)},t.appendChild(h.domify(e.tpl)),e.doc.getElementsByTagName("body")[0].appendChild(t)),t}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),d=n(1),f=n(0),h=new u,p=[],m=h.win,g=function(){function e(){r(this,e),this._name="gmodal",this.doc=m.document,this.ishim=null,this.elWrapper=null,this.el=null,this.opts={},this.baseCls="gmodal",this.closeCls="gmodal-close",this.tpl=d,this.css=f}return c(e,[{key:"show",value:function(e,t){var n=void 0,r=this;return!(null==(n=r.doc)||!n.body)&&(r.elWrapper=l(r),r.el||(r.el=r.doc.getElementById("gmodalContent")),e&&(e.hideCallback=t,p.push(e)),!r.isVisible&&(p.length>0&&(e=p.shift()),!!e&&(a(r,e),r)))}},{key:"hide",value:function(){var e=this;return e.elWrapper?(e.opts&&i(e),e):e}},{key:"injectStyle",value:function(e,t){var n=void 0,r=void 0,o=this;return n=o.doc.getElementById(e),n||(n=o.doc.createElement("style"),n.id=e,n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(o.doc.createTextNode(t)),r=o.doc.getElementsByTagName("link")[0],r=r||(o.doc.head||o.doc.getElementsByTagName("head")[0]).lastChild,r.parentNode.insertBefore(n,r)),o}},{key:"hasCls",value:function(e,t){var n=void 0,r=void 0,o=void 0,i=void 0,a=void 0;for(i=t.split(" "),r=n=0,o=i.length;n<o;r=++n)if(a=i[r],(" "+e.className+" ").indexOf(" "+a+" ")>=0)return!0;return!1}},{key:"iShimmy",value:function(){var e=this;return null==e.elWrapper||e.shim||(e.ishim=e.doc.createElement("iframe"),e.ishim.className="gmodal-iframeshim",e.ishim.frameBorder="0",e.ishim.marginWidth="0",e.ishim.marginHeight="0",e.ishim.scrolling="no",e.ishim.setAttribute("border","0"),e.ishim.height="100%",e.ishim.width="100%",e.elWrapper.appendChild(e.ishim)),e}},{key:"name",get:function(){return this._name}}]),e}();h.win.gmodal||(h.emitter(g.prototype),h.win.gmodal=new g),e.exports=h.win.gmodal}])});